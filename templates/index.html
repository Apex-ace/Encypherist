{% extends "base.html" %}

{% block title %}Welcome{% endblock %}

{% block extra_head %}
<script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
<style>
    #vanta-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
    }

    .glass-card {
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(20px);
        border: 1px solid var(--primary-color);
        border-radius: 24px;
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        transform-style: preserve-3d;
        perspective: 1000px;
    }

    .glass-card:hover {
        transform: translateY(-10px) rotateX(10deg) rotateY(10deg);
        border-color: var(--primary-color);
        box-shadow: 
            0 0 20px rgba(0, 255, 0, 0.2),
            0 0 40px rgba(0, 255, 0, 0.1);
    }

    .floating {
        animation: floating 6s ease-in-out infinite;
        transform-style: preserve-3d;
    }

    @keyframes floating {
        0% { transform: translateY(0px) rotateY(0deg); }
        50% { transform: translateY(-20px) rotateY(180deg); }
        100% { transform: translateY(0px) rotateY(360deg); }
    }

    .stat-card {
        background: rgba(0, 0, 0, 0.8);
        border: 1px solid var(--primary-color);
        border-radius: 16px;
        padding: 2rem;
        text-align: center;
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .stat-card:hover {
        transform: translateY(-10px);
        border-color: var(--primary-color);
        box-shadow: 0 0 20px rgba(0, 255, 0, 0.2);
    }
</style>
{% endblock %}

{% block content %}
<div id="vanta-bg"></div>

<!-- Hero Section -->
<section class="min-h-screen flex items-center -mt-24">
    <div class="container mx-auto">
        <div class="grid md:grid-cols-2 gap-12 items-center">
            <div class="space-y-8">
                <h1 class="text-6xl md:text-7xl font-extrabold leading-tight">
                    Experience
                    <span class="gradient-text block">Events</span>
                    Like Never Before
                </h1>
                <p class="text-xl text-gray-400 leading-relaxed">
                    ncypherist is a community dedicated to fostering students' skills in computer science, artificial intelligence (AI), and machine learning (ML). As the president of Encypherist, you lead initiatives that promote learning, collaboration, and innovation in these fields.
                <div class="flex flex-wrap gap-6">
                    <a href="{{ url_for('home') }}" class="btn-primary">
                        Explore Events
                    </a>
                    <a href="{{ url_for('register') }}?role=organizer" class="btn-secondary">
                        Create Event
                    </a>
                </div>
            </div>
            <div class="relative">
                <div class="floating">
                    <lottie-player
                        src="https://assets2.lottiefiles.com/packages/lf20_uwh5hj2q.json"
                        background="transparent"
                        speed="1"
                        style="width: 100%; height: 400px;"
                        loop
                        autoplay>
                    </lottie-player>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Events Section -->
<section id="featured" class="py-20">
    <div class="container mx-auto">
        <h2 class="text-4xl font-bold mb-12 text-center gradient-text">Featured Events</h2>
        <div class="grid md:grid-cols-3 gap-8">
            {% for event in featured_events %}
            <div class="glass-card p-6 group">
                <div class="aspect-w-16 aspect-h-9 mb-4">
                    <div class="w-full h-48 bg-gradient-to-r from-green-900 to-black rounded-lg"></div>
                </div>
                <h3 class="text-xl font-bold mb-2">{{ event.title }}</h3>
                <p class="text-gray-400 mb-4">{{ event.description[:100] }}...</p>
                <div class="flex justify-between items-center">
                    <span class="text-green-400 font-bold">â‚¹{{ event.price }}</span>
                    <a href="{{ url_for('book_event', event_id=event.id) }}" class="btn-primary">
                        Book Now
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- How It Works Section -->
<section id="how-it-works" class="py-20 bg-black bg-opacity-50">
    <div class="container mx-auto">
        <h2 class="text-4xl font-bold mb-12 text-center gradient-text">How It Works</h2>
        <div class="grid md:grid-cols-3 gap-8">
            <div class="stat-card">
                <div class="text-4xl mb-4">ðŸŽ«</div>
                <h3 class="text-xl font-bold mb-2">Browse Events</h3>
                <p class="text-gray-400">Discover exciting events happening in your college</p>
            </div>
            <div class="stat-card">
                <div class="text-4xl mb-4">ðŸ“±</div>
                <h3 class="text-xl font-bold mb-2">Book Instantly</h3>
                <p class="text-gray-400">Secure your tickets with just a few clicks</p>
            </div>
            <div class="stat-card">
                <div class="text-4xl mb-4">ðŸŽ‰</div>
                <h3 class="text-xl font-bold mb-2">Enjoy Events</h3>
                <p class="text-gray-400">Attend events and create lasting memories</p>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
    VANTA.NET({
        el: "#vanta-bg",
        mouseControls: true,
        touchControls: true,
        gyroControls: false,
        minHeight: 200.00,
        minWidth: 200.00,
        scale: 1.00,
        scaleMobile: 1.00,
        color: 0x00ff00,
        backgroundColor: 0x0a0a0a,
        points: 15.00,
        maxDistance: 25.00,
        spacing: 17.00
    })
</script>
{% endblock %}
